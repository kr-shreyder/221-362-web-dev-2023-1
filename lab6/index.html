<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Лабораторная работа</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <div class="container">
        <h1>Лабораторная работа</h1>

        <div class="form-group">
            <h2>Задание 1. Возведение в степень</h2>
            <label for="powBase">Число:</label>
            <input type="number" id="powBase" required>
            <label for="powExponent">Степень:</label>
            <input type="number" id="powExponent" required>
            <button onclick="calculatePow()">Рассчитать</button>
            <p><strong>Результат:</strong> <span id="powResult"></span></p>
        </div>

        <div class="form-group">
            <h2>Задание 2. Нахождение наибольшего общего делителя двух чисел</h2>
            <label for="gcdNumber1">Число 1:</label>
            <input type="number" id="gcdNumber1" required>
            <label for="gcdNumber2">Число 2:</label>
            <input type="number" id="gcdNumber2" required>
            <button onclick="calculateGCD()">Рассчитать</button>
            <p><strong>Результат:</strong> <span id="gcdResult"></span></p>
        </div>

        <div class="form-group">
            <h2>Задание 3. Нахождение наименьшей цифры, составляющей число</h2>
            <label for="minDigitNumber">Число:</label>
            <input type="number" id="minDigitNumber" required>
            <button onclick="calculateMinDigit()">Рассчитать</button>
            <p><strong>Результат:</strong> <span id="minDigitResult"></span></p>
        </div>

        <div class="form-group">
            <h2>Задание 4. Плюрализация</h2>
            <label for="pluralizeNumber">Число:</label>
            <input type="number" id="pluralizeNumber" required>
            <button onclick="calculatePluralize()">Рассчитать</button>
            <p><strong>Результат:</strong> <span id="pluralizeResult"></span></p>
        </div>

        <div class="form-group">
            <h2>Задание 5. Числа Фибоначчи</h2>
            <label for="fibbNumber">Число:</label>
            <input type="number" id="fibbNumber" required>
            <button onclick="calculateFibb()">Рассчитать</button>
            <p><strong>Результат:</strong> <span id="fibbResult"></span></p>
        </div>
    </div>

    <script>
        function calculatePow() {
            let base = parseInt(document.getElementById("powBase").value);
            let exponent = parseInt(document.getElementById("powExponent").value);

            if (base < 1 || exponent < 1) {
                document.getElementById("powResult").innerText = "Числа должны быть неотрицательными.";
            } else {
                let result = pow(base, exponent);
                document.getElementById("powResult").innerText = result;
            }
        }

        function calculateGCD() {
            let number1 = parseInt(document.getElementById("gcdNumber1").value);
            let number2 = parseInt(document.getElementById("gcdNumber2").value);

            if (number1 < 1 || number2 < 1) {
                document.getElementById("gcdResult").innerText = "Числа должны быть неотрицательными.";
            } else {
                let result = gcd(number1, number2);
                document.getElementById("gcdResult").innerText = result;
            }
        }

        function calculateMinDigit() {
            let number = parseInt(document.getElementById("minDigitNumber").value);

            if (number < 0) {
                document.getElementById("minDigitResult").innerText = "Число должно быть неотрицательным.";
            } else {
                let result = minDigit(number);
                document.getElementById("minDigitResult").innerText = result;
            }
        }

        function calculatePluralize() {
            let number = parseInt(document.getElementById("pluralizeNumber").value);

            if (number < 0) {
                document.getElementById("pluralizeResult").innerText = "Число должно быть неотрицательным.";
            } else {
                let result = pluralizeRecords(number);
                document.getElementById("pluralizeResult").innerText = result;
            }
        }

        function calculateFibb() {
            let number = parseInt(document.getElementById("fibbNumber").value);

            if (number < 0) {
                document.getElementById("fibbResult").innerText = "Число должно быть неотрицательным.";
            } else {
                let result = fibb(number);
                document.getElementById("fibbResult").innerText = result;
            }
        }

        function pow(x, n) {
            if (n === 1) {
                return x;
            } else {
                return x * pow(x, n - 1);
            }
        }

        function gcd(a, b) {
            if (b === 0) {
                return a;
            } else {
                return gcd(b, a % b);
            }
        }

        function minDigit(x) {
            let digits = String(x).split('').map(Number);
            let min = digits[0];
            for (let i = 1; i < digits.length; i++) {
                if (digits[i] < min) {
                    min = digits[i];
                }
            }
            return min;
        }

        function pluralizeRecords(n) {
            let pluralForm;
            if (n % 10 === 1 && n % 100 !== 11) {
                x = 'была найдена'
                pluralForm = 'запись';
            } else if ((n % 10 >= 2 && n % 10 <= 4) && (n % 100 < 12 || n % 100 > 14)) {
                x = 'было найдено'
                pluralForm = 'записи';
            } else {
                x = 'было найдено'
                pluralForm = 'записей';
            }
            return `В результате выполнения запроса ${x} ${n} ${pluralForm}.`;
        }

        function fibb(n) {
            let a = 1, b = 1;
            for (let i = 3; i <= n; i++) {
                let c = a + b;
                a = b;
                b = c;
            }
            return b;
        }
    </script>
</body>

</html>